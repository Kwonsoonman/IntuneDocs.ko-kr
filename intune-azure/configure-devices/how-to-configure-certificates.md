---
title: "Intune을 사용하여 인증서를 구성하는 방법"
titleSuffix: Intune Azure preview
description: "Intune Azure 미리 보기: Intune을 사용하여 Wi-Fi, VPN 및 기타 연결의 보안을 유지하는 데 도움이 되는 인증서를 만들고 할당하는 방법을 알아봅니다."
keywords: 
author: robstackmsft
ms.author: robstack
manager: angrobe
ms.date: 02/15/2017
ms.topic: article
ms.prod: 
ms.service: microsoft-intune
ms.technology: 
ms.assetid: 5eccfa11-52ab-49eb-afef-a185b4dccde1
ms.reviewer: heenamac
ms.suite: ems
ms.custom: intune-azure
translationtype: Human Translation
ms.sourcegitcommit: b4d095506215b775d56d172e9aabae1737757310
ms.openlocfilehash: 364534ad788466f8b268b4091decee5326b94163
ms.lasthandoff: 02/16/2017


---

# <a name="how-to-configure-certificates-in-microsoft-intune"></a>Microsoft Intune에서 인증서를 구성하는 방법

[!INCLUDE[azure_preview](../includes/azure_preview.md)]

VPN, Wi-Fi 또는 메일 프로필을 통해 사용자에게 회사 리소스 액세스 권한을 부여하는 경우 각 사용자 장치에 설치된 인증서를 사용하여 액세스 보안을 유지할 수 있습니다. 개략적인 워크플로는 다음과 같습니다.

1. 올바른 인증서 인프라가 있는지 확인합니다. [SCEP 인증서](configure-certificate-infrastructure-for-scep.md) 및 [PKCS 인증서](configure-certificate-infrastructure-for-pfx.md)를 사용할 수 있습니다.
2. 각 장치에 루트 인증서 또는 중간 CA(인증 기관) 인증서를 설치하여 장치가 인증 기관의 적법성을 인식할 수 있게 합니다. 이를 수행하려면 **신뢰할 수 있는 인증서 프로필**을 만들고 할당합니다. 이 프로필을 할당하면 Intune으로 관리하는 장치가 루트 인증서를 요청하고 받습니다. 각 플랫폼에 대해 별도 프로필을 만들어야 합니다. 신뢰할 수 있는 인증서 프로필을 사용할 수 있는 플랫폼은 다음과 같습니다.
    - iOS 8.0 이상
    - macOS 10.9 이상
    - Android 4.0 이상 <!--Android for Work --->
    - Windows 8.1 이상
    - Windows Phone 8.1 이상
    - Windows 10 이상
3. 인증서 프로필을 만들어 VPN, Wi-Fi 및 메일 액세스 인증에 사용할 인증서를 장치가 요청할 수 있게 합니다. 다음 플랫폼을 실행하는 장치에 대해 **PKCS** 또는 **SCEP** 인증서 프로필을 만들고 배포할 수 있습니다.
    - iOS 8.0 이상
    - Android 4.0 이상
    - Android for Work
    - Windows 10(데스크톱 및 모바일) 이상

    다음 플랫폼에서는 SCEP 인증서 프로필만 사용할 수 있습니다.

-     macOS 10.9 이상
-     Windows Phone 8.1 이상

각 장치 플랫폼에 대해 별도 프로필을 만들어야 합니다. 프로필을 만들 때 이미 만들어 놓은 신뢰할 수 있는 루트 인증서 프로필과 연결합니다.

### <a name="further-considerations"></a>추가 고려 사항

- 엔터프라이즈 인증 기관이 없는 경우 새로 만들어야 합니다.
- 장치 플랫폼에 따라 SCEP(Simplified Certificate Enrollment Protocol) 프로필을 사용하기로 결정한 경우 NDES(네트워크 장치 등록 서비스) 서버도 구성해야 합니다.
- SCEP 프로필과 PKCS 프로필 중 무엇을 사용하려고 계획 중이든지 간에 Microsoft Intune 인증서 커넥터를 다운로드하고 구성해야 합니다.

## <a name="before-you-start"></a>시작하기 전에


### <a name="if-you-want-to-use-scep-certificates"></a>SCEP 인증서를 사용하려는 경우

[SCEP용 인증서 인프라](/intune-azure/configure-devices/configure-certificate-infrastructure-for-scep)에서 필요한 전제 조건을 완료합니다.

### <a name="if-you-want-to-use-pkcs-certificates"></a>PKCS 인증서를 사용하려는 경우

[PKCS용 인증서 인프라](/intune-azure/configure-devices/configure-certificate-infrastructure-for-pfx)에서 필요한 전제 조건을 완료합니다.

## <a name="task-1-export-the-trusted-root-ca-certificate"></a>작업 1 - 신뢰할 수 있는 루트 CA 인증서 내보내기
발급 CA(인증 기관) 또는 발급 CA를 신뢰하는 장치에서 신뢰할 수 있는 루트 CA 인증서를 **.cer** 파일로 내보냅니다. 개인 키는 내보내지 마세요.

신뢰할 수 있는 인증서 프로필을 설정할 때 이 인증서를 가져옵니다.

## <a name="task-2-create-trusted-certificate-profiles"></a>작업 2: 신뢰할 수 있는 인증서 프로필 만들기
SCEP 또는 PKCS 인증서 프로필을 만들기 전에 신뢰할 수 있는 인증서 프로필을 구성해야 합니다. 각 장치 플랫폼에 신뢰할 수 있는 인증서 프로필 및 SCEP 또는 PKCS 프로필이 필요합니다.

### <a name="to-create-a-trusted-certificate-profile"></a>신뢰할 수 있는 인증서 프로필을 만들려면

1. Azure 포털에 로그인합니다.
2. **추가 서비스** > **기타** > **Intune**을 선택합니다.
3. **Intune** 블레이드에서 **장치 구성**을 선택합니다.
2. **장치 구성** 블레이드에서 **관리** > **프로필**을 선택합니다.
3. 프로필 블레이드에서 **프로필 만들기**를 선택합니다.
4. **프로필 만들기** 블레이드에서 신뢰할 수 있는 인증서 프로필에 대한 **이름** 및 **설명**을 입력합니다.
5. **플랫폼** 드롭다운 목록에서 이 신뢰할 수 있는 인증서에 대한 장치 플랫폼을 선택합니다. 현재 장치 제한 설정에 대해 다음 플랫폼 중 하나를 선택할 수 있습니다.
    - **OWA(Outlook Web Access)**
    - **iOS**
    - **macOS**
    - **Windows Phone 8.1**
    - **Windows 8.1 이상**
    - **Windows 10 이상**
6. **프로필** 유형 드롭다운 목록에서 **신뢰할 수 있는 인증서**를 선택합니다.
7. 작업 1에서 저장한 인증서를 찾은 다음 **확인**을 클릭합니다.
8. Windows 8.1 및 Windows 10 장치에 한해 신뢰할 수 있는 인증서의 **대상 저장소**를 선택합니다.
    - **컴퓨터 인증서 저장소 - 루트**
    - **컴퓨터 인증서 저장소 - 중간**
    - **사용자 인증서 저장소 - 중간**
8. 완료되면 **확인**을 선택하고 **프로필 만들기** 블레이드로 돌아가서 **만들기**를 누릅니다.

프로필이 만들어지고 프로필 목록 블레이드에 표시됩니다.
계속해서 이 프로필을 그룹에 할당하려면 [장치 프로필을 할당하는 방법](how-to-assign-device-profiles.md)을 참조하세요.


> [!Note]
> Android 장치는 제3자가 신뢰할 수 있는 인증서를 설치했다는 알림을 표시합니다.

## <a name="task-3-create-scep-or-pkcs-certificate-profiles"></a>작업 3: SCEP 또는 PKCS 인증서 프로필 만들기
신뢰할 수 있는 인증서 프로필을 만든 후에는 사용하려는 각 플랫폼용으로 SCEP 또는 PKCS 인증서 프로필을 만듭니다. SCEP 인증서 프로필을 만들 때는 같은 플랫폼에 대해 신뢰할 수 있는 인증서 프로필을 지정해야 합니다. 그러면 두 인증서 프로필이 연결되기는 하지만 각 프로필을 개별적으로 할당해야 합니다.

### <a name="to-create-an-scep-certificate-profile"></a>SCEP 인증서 프로필을 만들려면

1. Azure Portal에서 **장치 구성** 워크로드를 선택합니다.
2. **장치 구성** 블레이드에서 **관리** > **프로필**을 선택합니다.
3. 프로필 블레이드에서 **프로필 만들기**를 선택합니다.
4. **프로필 만들기** 블레이드에서 SCEP 인증서 프로필에 대한 **이름** 및 **설명**을 입력합니다.
5. **플랫폼** 드롭다운 목록에서 이 SCEP 인증서에 대한 장치 플랫폼을 선택합니다. 현재 장치 제한 설정에 대해 다음 플랫폼 중 하나를 선택할 수 있습니다.
    - **OWA(Outlook Web Access)**
    - **iOS**
    - **macOS**
    - **Windows Phone 8.1**
    - **Windows 8.1 이상**
    - **Windows 10 이상**
6. **프로필** 유형 드롭다운 목록에서 **SCEP 인증서**를 선택합니다.
7. **SCEP 인증서** 블레이드에서 다음 설정을 구성합니다.
    - **인증서 유효 기간** - 발급 CA에 대해 사용자 지정 유효 기간을 허용하는 **certutil - setreg Policy\EditFlags +EDITF_ATTRIBUTEENDDATE** 명령을 실행한 경우 인증서가 만료될 때까지 남은 기간을 지정할 수 있습니다.<br>지정된 인증서 템플릿에서 유효 기간보다 작은 값은 지정할 수 있지만 높은 값은 지정할 수 없습니다. 예를 들어 인증서 템플릿의 인증서 유효 기간이&2;년이면 값을&1;년으로 지정할 수는 있어도&5;년으로는 지정할 수 없습니다. 또한 이 값은 발급 CA 인증서의 남은 유효 기간보다 작아야 합니다. 
    - **KSP(키 저장소 공급자)**(Windows Phone 8.1, Windows 8.1, Windows 10) - 인증서에 키가 저장될 위치를 지정합니다. 다음 값 중 하나를 선택합니다.
        - **있는 경우 TPM(신뢰할 수 있는 플랫폼 모듈) KSP에 등록, 그렇지 않으면 소프트웨어 KSP에 등록**
        - **TPM(신뢰할 수 있는 플랫폼 모듈) KSP에 등록, 그러지 않으면 실패**
        - **Passport에 등록, 그러지 않으면 실패(Windows 10 이상)**
        - **소프트웨어 KSP에 등록**
    - **주체 이름 형식** - 인증서 요청 시 Intune에서 자동으로 주체 이름을 만드는 방식을 목록에서 선택합니다. 사용자용 인증서인 경우 주체 이름에 사용자의 전자 메일 주소를 포함할 수도 있습니다. 다음 중에서 선택합니다.
        - **구성되지 않음**
        - **일반 이름**
        - **메일이 포함된 일반 이름**
        - **메일인 일반 이름**
    - **주체 대체 이름** - Intune에서 인증서 요청의 SAN(주체 대체 이름) 값을 자동으로 만드는 방법을 지정합니다. 예를 들어 사용자 인증서 유형을 선택한 경우 주체 대체 이름에 UPN(사용자 계정 이름)을 포함할 수 있습니다. 클라이언트 인증서가 네트워크 정책 서버에 대한 인증에 사용되는 경우 주체 대체 이름을 UPN으로 설정해야 합니다. 
    - **키 사용** - 인증서에 대한 키 사용 옵션을 지정합니다. 다음 옵션 중에서 선택할 수 있습니다. 
        - **키 암호화** - 키가 암호화된 경우에만 키 교환을 허용합니다. 
        - **디지털 서명** - 디지털 서명으로 키를 보호하는 경우에만 키 교환을 허용합니다. 
    - **키 크기(비트)** - 키에 포함할 비트 수를 선택합니다. 
    - **해시 알고리즘**(Android, Windows Phone 8.1, Windows 8.1, Windows 10) - 이 인증서와 함께 사용할 수 있는 해시 알고리즘 유형 중 하나를 선택합니다. 연결 장치에서 지원되는 가장 강력한 보안 수준을 선택합니다. 
    - **루트 인증서** - 이전에 구성하고 사용자 또는 장치에 할당한 루트 CA 인증서 프로필을 선택합니다. 이 CA 인증서는 이 인증서 프로필에서 구성하려는 인증서를 발급할 CA에 대한 루트 인증서여야 합니다. 
    - **확장 키 사용** - **추가**를 클릭하여 인증서의 용도에 대한 값을 추가합니다. 대부분의 경우 인증서는 사용자 또는 장치가 서버에 인증할 수 있는 **클라이언트 인증** 이 필요합니다. 그러나 필요에 따라 다른 키 사용을 추가할 수 있습니다. 
    - **등록 설정**
        - **갱신 임계값(%)** - 장치에서 인증서 갱신을 요청하기 전까지 남은 인증서 수명을 백분율로 지정합니다.
        - **SCEP 서버 URL** - SCEP를 통해 인증서를 발급할 NDES 서버의 URL을 하나 이상 지정합니다. 
8. 완료되면 **프로필 만들기** 블레이드로 돌아가서 **만들기**를 누릅니다.

프로필이 만들어지고 프로필 목록 블레이드에 표시됩니다.

SCEP 인증서 프로필 설정을 구성하려면 프로필 구성 페이지의 지침을 따릅니다.
>[!Note]
> iOS 장치에만 해당: 주체 이름 형식에서 사용자 지정을 선택하여 사용자 지정 주체 이름 형식을 입력합니다.
> 현재 사용자 지정 형식에 지원되는 두 변수는 **CN(일반 이름)** 및 **E(메일)**입니다. 이러한 변수와 정적 문자열의 조합을 사용하여 **CN={{UserName}},E={{EmailAddress}},OU=Mobile,O=Finance Group,L=Redmond,ST=Washington,C=US**와 같은 사용자 지정 주체 이름 형식으로 만들 수 있습니다. 이 예에서는 CN 및 E 변수 외에 조직 구성 단위, 조직, 위치, 상태 및 국가 값에 대한 문자열을 사용하는 주체 이름 형식을 만들었습니다. [이 항목](https://msdn.microsoft.com/library/windows/desktop/aa377160.aspx)에서는 **CertStrToName** 함수와 해당 지원되는 문자열을 보여 줍니다.


### <a name="to-create-a-pkcs-certificate-profile"></a>PKCS 인증서 프로필을 만들려면

Azure Portal에서 **장치 구성** 워크로드를 선택합니다.
2. **장치 구성** 블레이드에서 **관리** > **프로필**을 선택합니다.
3. 프로필 블레이드에서 **프로필 만들기**를 클릭합니다.
4. **프로필 만들기** 블레이드에서 PKCS 인증서 프로필에 대한 **이름** 및 **설명**을 입력합니다.
5. **플랫폼** 드롭다운 목록에서 이 PKCS 인증서에 대한 장치 플랫폼을 선택합니다.
    - **OWA(Outlook Web Access)**
    - **Android**
    - **Windows 10 이상**
6. **프로필** 유형 드롭다운 목록에서 **PKCS 인증서**를 선택합니다.
7. **PKCS 인증서** 블레이드에서 다음 설정을 구성합니다.
    - **갱신 임계값(%)** - 장치에서 인증서 갱신을 요청하기 전까지 남은 인증서 수명을 백분율로 지정합니다.
    - **인증서 유효 기간** - 발급 CA에 대해 사용자 지정 유효 기간을 허용하는 **certutil - setreg Policy\EditFlags +EDITF_ATTRIBUTEENDDATE** 명령을 실행한 경우 인증서가 만료될 때까지 남은 기간을 지정할 수 있습니다.<br>지정된 인증서 템플릿에서 유효 기간보다 작은 값은 지정할 수 있지만 높은 값은 지정할 수 없습니다. 예를 들어 인증서 템플릿의 인증서 유효 기간이&2;년이면 값을&1;년으로 지정할 수는 있어도&5;년으로는 지정할 수 없습니다. 또한 이 값은 발급 CA 인증서의 남은 유효 기간보다 작아야 합니다.
    - **KSP(키 저장소 공급자)**(Windows 10) -
    - **인증 기관** -
    - **인증 기관 이름** -
    - **인증서 템플릿 이름** - 네트워크 장치 등록 서비스에서 사용하도록 구성되고 발급 CA에 추가된 인증서 템플릿의 이름을 입력합니다.
    이름이 네트워크 장치 등록 서비스를 실행하는 서버의 레지스트리에 나열된 인증서 템플릿 중 하나와 일치하는지 확인합니다. 또한 인증서 템플릿의 표시 이름이 아닌 인증서 템플릿 이름을 지정했는지 확인합니다. 
    인증서 템플릿의 이름을 찾으려면 HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Cryptography\MSCEP 키로 이동합니다. 인증서 템플릿이 **EncryptionTemplate**, **GeneralPurposeTemplate**및 **SignatureTemplate**의 값으로 나열됩니다. 기본적으로 모든 세 인증서 템플릿의 값은 IPSECIntermediateOffline이며, 이는 **IPSec(오프라인 요청)**라는 템플릿 표시 이름으로 매핑됩니다. 
    - **주체 이름 형식** - 인증서 요청 시 Intune에서 자동으로 주체 이름을 만드는 방식을 목록에서 선택합니다. 사용자용 인증서인 경우 주체 이름에 사용자의 전자 메일 주소를 포함할 수도 있습니다. 다음 중에서 선택합니다.
        - **구성되지 않음**
        - **일반 이름**
        - **메일이 포함된 일반 이름**
        - **메일인 일반 이름**
    - **주체 대체 이름** - Intune에서 인증서 요청의 SAN(주체 대체 이름) 값을 자동으로 만드는 방법을 지정합니다. 예를 들어 사용자 인증서 유형을 선택한 경우 주체 대체 이름에 UPN(사용자 계정 이름)을 포함할 수 있습니다. 클라이언트 인증서가 네트워크 정책 서버에 대한 인증에 사용되는 경우 주체 대체 이름을 UPN으로 설정해야 합니다.
    - **확장 키 사용**(Android) - **추가**를 클릭하여 인증서의 용도에 대한 값을 추가합니다. 대부분의 경우 인증서는 사용자 또는 장치가 서버에 인증할 수 있는 **클라이언트 인증** 이 필요합니다. 그러나 필요에 따라 다른 키 사용을 추가할 수 있습니다. 
    - **루트 인증서**(Android) - 이전에 구성하고 사용자 또는 장치에 할당한 루트 CA 인증서 프로필을 선택합니다. 이 CA 인증서는 이 인증서 프로필에서 구성하려는 인증서를 발급할 CA에 대한 루트 인증서여야 합니다.
8. 완료되면 **프로필 만들기** 블레이드로 돌아가서 **만들기**를 누릅니다.

프로필이 만들어지고 프로필 목록 블레이드에 표시됩니다.

## <a name="task-4-assign-certificate-profiles"></a>작업 4: 인증서 프로필 만들기

인증서 프로필을 그룹에 할당하기 전에 다음 사항을 고려합니다.

- 인증서 프로필을 그룹에 할당할 때는 신뢰할 수 있는 CA 인증서 프로필의 인증서 파일이 장치에 설치됩니다. 장치는 SCEP 또는 PKCS 인증서 프로필을 사용하여 장치의 인증서 요청을 만듭니다.
- 인증서 프로필은 프로필을 만들 때 사용하는 플랫폼을 실행 중인 장치에만 설치됩니다.
- 사용자 컬렉션 또는 장치 컬렉션에 인증서 프로필을 배포할 수 있습니다.
- 장치를 등록한 후 인증서를 장치에 빠르게 게시하려면 인증서 프로필을 장치 그룹이 아닌 사용자 그룹에 배포합니다. 장치 그룹에 프로필을 배포하는 경우에는 장치에서 정책을 수신하기 전에 전체 장치 등록을 수행해야 합니다.
- 각 프로필을 별도로 배포하더라도 신뢰할 수 있는 루트 CA 및 SCEP 또는 PKCS 프로필을 배포해야 합니다. 그렇지 않으면 SCEP 또는 PKCS 인증서 정책에서 오류가 발생합니다.

## <a name="next-steps"></a>다음 단계
장치 프로필을 할당하는 방법에 대한 일반적인 내용은 [장치 프로필을 할당하는 방법](how-to-assign-device-profiles.md)을 참조하세요.

